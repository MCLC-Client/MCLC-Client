<!DOCTYPE html>
<html lang="en" class="scroll-smooth bg-background text-gray-200 antialiased">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MCLC Extension Development Guide</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" href="../../resources/icon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#1bd96a",
            "primary-dark": "#14a34f",
            surface: "#121212",
            background: "#080808",
            "accent-dark": "#0f0f0f",
          },
          fontFamily: {
            sans: ["Outfit", "Poppins", "sans-serif"],
          },
          boxShadow: {
            "primary-glow": "0 0 30px rgba(27, 217, 106, 0.25)",
          },
        },
      },
    };
  </script>
</head>
<body class="bg-background min-h-screen pt-14 pb-24 px-2 font-sans text-base selection:bg-primary/30">

  <nav class="fixed top-0 left-0 right-0 z-[100] transition-all duration-300 bg-background/80 backdrop-blur border-b border-white/10" id="navbar">
    <div class="max-w-7xl mx-auto px-6 lg:px-12 py-6 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="../../resources/icon.png" alt="MCLC Logo" class="w-10 h-10 object-contain" />
        <span class="text-2xl font-extrabold tracking-tighter text-white hidden sm:inline">MCLC</span>
      </div>

      <div class="hidden md:flex items-center gap-10 text-sm font-semibold tracking-wide uppercase text-gray-400">
        <a href="../../index.html" class="hover:text-primary transition-colors">Home</a>
        <a href="../../index.html#features" class="hover:text-primary transition-colors">Features</a>
        <a href="../../index.html#support" class="hover:text-primary transition-colors">Support</a>
        <a href="../../extensions.html" class="hover:text-primary transition-colors">Extensions</a>
        <a href="../index.html" class="text-primary hover:text-white transition-colors font-bold">Documentation</a>
        <a href="https://github.com/Fernsehheft/MCLC-Client" class="hover:text-primary transition-colors"
          target="_blank">GitHub</a>
      </div>
      <a id="downloadNavBtn" href="../../index.html#"
        class="bg-primary hover:bg-primary-dark text-black px-8 py-3 rounded-xl font-bold transition-all shadow-primary-glow transform hover:scale-105 active:scale-95">
        Download
      </a>
    </div>
  </nav>

  <header class="max-w-3xl mx-auto flex items-center gap-4 mb-12 mt-14">
    <img src="../../resources/icon.png" alt="MCLC Logo" class="w-14 h-14 rounded-xl shadow-lg bg-surface/80" />
    <div>
      <h1 class="text-3xl md:text-4xl font-extrabold text-white tracking-tight drop-shadow-lg">MCLC Extension Development Guide</h1>
      <p class="text-gray-400 mt-2 text-base md:text-lg">Welcome to the MCLC Extension System! This guide will help you create, package, and share extensions.</p>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-4 md:px-6">

    <section class="mb-14">
      <h2 class="text-2xl md:text-3xl font-bold text-primary mb-4">1. File Structure</h2>
      <p class="mb-3">
        An extension is a <span class="font-semibold text-primary">ZIP</span> file
        (<code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">.mcextension</code> or
        <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">.zip</code>)
        containing the following required structure at the root:
      </p>
      <pre class="bg-surface border border-white/10 rounded-2xl p-5 text-primary mb-6 font-mono text-sm overflow-x-auto shadow-primary-glow">
<code>my-extension/
├── manifest.json  (Required)
├── main.js        (Required - Entry Point via CJS)
└── (other files)
</code>
      </pre>

      <h3 class="text-xl text-white font-bold mb-2">manifest.json</h3>
      <p class="mb-2 text-gray-300">Defines metadata about your extension.</p>
      <pre class="bg-surface border border-white/10 rounded-xl p-4 mb-8 text-blue-300 font-mono text-sm overflow-x-auto">
<code>{
  "id": "my-awesome-extension",
  "name": "My Awesome Extension",
  "version": "1.0.0",
  "description": "Adds a cool new feature.",
  "author": "YourName",
  "main": "main.js"
}
</code>
      </pre>
    </section>

    <section class="mb-14">
      <h2 class="text-2xl md:text-3xl font-bold text-primary mb-4">2. <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-base">main.js</code> Format</h2>
      <p class="mb-3 text-gray-300">
        The extension system runs your code in a sandboxed environment. You must expose specific hooks.
      </p>

      <h3 class="text-xl text-white font-bold mb-2">Lifecycle Hooks</h3>
      <ul class="list-disc pl-8 text-gray-100 mb-4 space-y-1">
        <li>
          <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">activate(api)</code>:
          Called when the extension is enabled or the app starts.
        </li>
        <li>
          <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">deactivate()</code>:
          Called when the extension is disabled or removed.
        </li>
      </ul>

      <h3 class="text-xl text-white font-bold mt-8 mb-2">Example <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-base">main.js</code></h3>
      <pre class="bg-surface border border-white/10 rounded-xl p-4 mb-8 text-cyan-300 font-mono text-sm overflow-x-auto">
<code>/* main.js */

// You can create a simple React component
const MyWidget = () =&gt; {
    return React.createElement('div', { style: { color: 'white' } }, "Hello from Extension!");
};

// Activate Hook
exports.activate = async (api) =&gt; {
    console.log("Extension activated!");

    // 1. Show a Toast Notification
    api.ui.toast("My Extension Loaded!", "success");

    // 2. Register a UI Component to a Slot
    // Available Slots: 'sidebar.bottom'
    api.ui.registerView('sidebar.bottom', MyWidget);

    // 3. Use Storage
    const runCount = api.storage.get('runCount') || 0;
    api.storage.set('runCount', runCount + 1);
};

// Deactivate Hook
exports.deactivate = async () =&gt; {
    console.log("Extension deactivated!");
    // Cleanup is handled automatically for UI views, but stop any timers/intervals here.
};
</code>
      </pre>
    </section>

    <section class="mb-14">
      <h2 class="text-2xl md:text-3xl font-bold text-primary mb-4">3. Packaging</h2>
      <ol class="list-decimal pl-8 text-gray-100 mb-2 space-y-2">
        <li>Select all files inside your extension folder (<code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">manifest.json</code>, <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">main.js</code>, etc.).</li>
        <li>Right-click &rarr; <span class="font-semibold text-white">Compress to ZIP file</span>.</li>
        <li>(Optional) Rename <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">.zip</code> to <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">.mcextension</code>.</li>
        <li>Your extension is ready to upload!</li>
      </ol>
    </section>

    <section>
      <h2 class="text-2xl md:text-3xl font-bold text-primary mb-4">4. Troubleshooting</h2>
      <ul class="list-disc pl-8 text-gray-100 space-y-2">
        <li>
          <span class="font-bold">"Missing main.js"</span>:
          Ensure <code class="bg-surface px-2 py-0.5 rounded text-primary border border-white/10 font-mono text-sm">main.js</code> is at the <span class="italic">root</span> of the zip, not inside a subfolder.
        </li>
        <li>
          <span class="font-bold">Check Console</span>:
          Open Developer Tools (<kbd class="bg-surface/60 px-1 rounded border border-white/5">Ctrl</kbd>+<kbd class="bg-surface/60 px-1 rounded border border-white/5">Shift</kbd>+<kbd class="bg-surface/60 px-1 rounded border border-white/5">I</kbd>)
          to see logs from your extension.
        </li>
      </ul>
    </section>
  </main>
</body>
</html>
